<?xml version="1.0"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<p:accordionPanel dynamic="true">
		<c:choose>
			<c:when test="#{timesheetTaskList.getTaskList(day, user.currentUser.userId).size == 0}">
				<h:outputText value="#{i18n['no-tasks-have-been-found']}" />
			</c:when>
			<c:otherwise>
				<c:forEach items="#{timesheetTaskList.getTaskList(day, user.currentUser.userId)}" var="task">
					<p:tab title="#{task.key.name}">
						<h:outputText value="Overall duration on " /><h:outputLink target="_blank" value="http://issues.liferay.com/browse/#{task.key.name}">#{task.key.name}</h:outputLink><h:outputText value=" is #{task.key.duration}" />
						<p:dataList value="#{task.value}" var="segment" itemType="square">
							 #{segment.startDate} - #{segment.endDate}
						</p:dataList>
					</p:tab>
				</c:forEach>
			</c:otherwise>
		</c:choose>
	</p:accordionPanel>

</ui:composition>